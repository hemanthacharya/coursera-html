<!DOCTYPE html>
<html>
<head>
	<title>Hello Coursera</title>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.2.0/require.min.js" data-main="../javascripts/main"></script>
	<link rel="stylesheet" href="../stylesheets/oj-alta.css">
	<link rel="stylesheet" href="../stylesheets/admin.css">
	<link rel="stylesheet" href="../stylesheets/tasks.css">
	<style type="text/css">
		.content-container {
  margin: 10px;
}

.inline-form {
    display: flex;
    align-items: center;
}
.inline-form > .oj-label {
    margin-right: 1em;
}

	</style>
</head>
<body>
<form id="form1">
 <div id="page-tasks-jiraconfig" class="admin-page">
    <!-- ko ifnot: true -->
    <div class="data-loading"></div>
    <!-- /ko -->

    
    <div class="oj-flex">
    <div class="page-header" 
         data-bind="if: false">
        <h1 class="page-header-title">
            <a class="breadcrumb-back"
               data-bind="attr: {href: '#projects/' + 'alm' + '/admin/tasks/jiraconfig',
                                     title: 'Return to list'},
                              ojComponent: {component: 'ojButton', label: 'Jira Config',
                                            icons: {start:'oj-fwk-icon-caret-start oj-fwk-icon'}, chroming: 'half' }"></a>
            <span class="breadcrumb-current"
                  data-bind="text: 'Create Template'"></span>
        </h1>
        <div class="product-new-buttons"
             data-bind="template: {name: 'product-buttons', data: templateList.selectedProduct()} "></div>
    </div>

    <div class="oj-form">
        <div class="oj-flex">
            <!-- ko if: true -->
            <div class="oj-flex-item oj-md-3" style="padding-right: 20px;">
                <div id="jira-fields">
                    <a id="jira-fields-add" class="oj-button-confirm"
                       data-bind="attr: {href: ''},
                                               ojComponent: {component: 'ojButton', label: 'Create Template', display: 'all',
                                                             icons: { start: 'oj-icon inverse-plus-icon'} } "></a>
                    <div id="Template-list-content"
                         data-bind="foreach: templates.data">
                        <div class="fields-list-item"
                             data-bind="attr: { id : 'fields-' + $data.id() }, click: $parent.templateList.selecttemplate,
                                                css: {'template-selected':  $data === $parent.templateList.selectedemplate() }">
                            <input class="product-name-input" style="cursor: default;"
                                   data-bind="ojComponent: {component: 'ojInputText', value: $data.name, readOnly: true, 
                                           rootAttributes: { class: 'product-name'} }">
                            <div class="product-buttons">
                                <button class="button-remove"
                                        data-bind="click: $parent.functions.removeTemplate,
                                                           attr: {id: 'product-remove-' + $data.id() + '-button', title: 'Remove Template'},
                                                           ojComponent: { component: 'ojButton', display: 'icons', icons: { start: 'oj-fwk-icon oj-fwk-icon-cross'}, 
                                                                         rootAttributes: {class: 'product-remove-button'}, chroming: 'half' } "></button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- /ko --> 

                <div class="oj-flex-item oj-md-3 webhooks-property-label">
                    <label for="inputSearch">Jira Project</label>
                    <input id="inputSearch" placeholder="Search Jira Projects..."
                           data-bind="ojComponent: {
          component: 'ojInputSearch', value: jiraprojects, 
          rootAttributes: {style:'max-width: 20em'}}">
                </div>
                    <div class="oj-flex-item oj-md-3 webhooks-property-label">
                        <label data-bind="text: 'Jira Username', 
                              attr: { for: 'jiraproject-username' }" ></label>
                                            <input type="text"
                               data-bind="attr: {id: 'jiraproject-username'}, 
                              ojComponent: {component: 'ojInputText', value: username}">
                    </div>
                    <div class="oj-flex-item oj-md-3 webhooks-jira-emailid-description"
                         data-bind="text: 'Enter Jira Username who has admin access to the above mentioned project'"></div>
               
                
                    <div class="oj-flex-item oj-md-3 webhooks-property-label">
                        <label data-bind="text: 'Jira Password', 
                              attr: { for: 'jiraproject-pwd' }" ></label>
                    
                        <input type="password" maxlength="30"
                               data-bind="attr: {id: 'jiraproject-pwd' }, 
                              ojComponent: {component: 'ojInputPassword', value: pwd}">
                    </div>
                
                 

                <div class="oj-flex-item"
                     data-bind="css: {'oj-md-9': false}">
                    <div class="oj-form oj-md-labels-inline"
                         data-bind="if: templateList.selectedTemplate(), attr: {id: ('mandatory-fields' + $data.pageContent() === 'new' ? '-new' : '')}">
                        <!-- ko template: {name: 'mandatory-fields', data: templateList.selectedTemplate()} --><!-- /ko -->
                    </div>
                </div>

        </div>
    </div>
    

    </div>

    <script type="text/html" id="mandatory-fields">

        <div class="oj-flex">
            <div class="oj-flex-item oj-md-3 webhooks-property-label">
                <label data-bind="text: 'Jira Issue Types', 
                              attr: {for: 'jira-issue-types' }" ></label>
            </div>
            <div class="oj-flex-item oj-md-9 webhooks-property-value">
                <select data-bind="attr: { id: 'jira-issue-types' }, 
                               ojComponent: {component: 'ojSelect', multiple: true, required: true, options: issues, 
                                            value: 'Bug',
                                            placeholder: 'Jira issues',
                                            rootAttributes: {class: 'jira-issue-types', id: 'jira-issue-types-bug' }}">
                </select>
            </div>

            <div class="oj-flex-item oj-md-3 webhooks-property-label">
                <label data-bind="text: 'Default Transition', 
                              attr: {for: 'jira-issue-transition' }" ></label>
            </div>
            <div class="oj-flex-item oj-md-9 webhooks-property-value">
                <select data-bind="attr: { id: 'jira-issue-transition' }, 
                               ojComponent: {component: 'ojSelect', required: true, options: issuesTransition, 
                                            value: 'Closed - 30',
                                            placeholder: 'Default Issue transition',
                                            rootAttributes: {class: 'jira-issue-types', id: 'jira-issue-transition-bug' }}">
                </select>
            </div>
        </div>

        <div class="oj-flex">
            <div class="oj-flex-item">
                <h3 style="display: inline-block; margin-bottom: 0;"
                    data-bind="attr: {title: 'Mandatory Fields' },
                           text: 'Mandatory Fields'"></h3>
            </div>
        </div>
        <div class="oj-flex">
            <div class="oj-flex-item" style="margin-bottom: 0;">
                <div class="product-info">
                    <div class="product-info-message"
                         data-bind="text: 'Create or edit the list of Mandatory fields available for this issue type workflow'"></div>
                    <div class="product-components-buttons">
                        <button id="mandatory-fields-add" class="oj-button-confirm" style="display: inline-block;"
                                data-bind="click: $parent.functions.addFields,
                                       ojComponent: {component: 'ojButton', label: 'Add Mandatory Fields', 
                                                     disabled: $parent.fieldsList.isNewfield, display: 'all', icons: { start: 'oj-icon inverse-plus-icon'} } "></button>
                    </div>
                </div>
            </div>
        </div>
        <div class="oj-flex">
            <div class="oj-flex-item">
                <table id="product-components" class="product-components">
                    <tbody data-bind="foreach: $this.filteredFields">
                        <tr data-bind="css: { 'oj-table-body-row' : true, 
                                          'oj-table-footer-row' : true, 
                                          'oj-table-hgrid-lines': true } ">

                            <td class="name-column"
                                data-bind="css : {'oj-table-data-cell' : true, 'oj-table-footer-cell only-row' : true}">
                                <input type="text" class="component-name-input" maxlength="64"
                                       data-bind="ojComponent: {component: 'ojInputText', value: $data.name, rootAttributes: {class: 'component-name component-edit-element', id: 'field-name-1'},
                                                             displayOptions: {validatorHint: 'none' }, placeholder: 'Field Name'},
                                               attr: {id: 'field-name-1' + '-input' },
                                               value: $data.nameCheck, valueUpdate: 'afterkeydown'">
                            </td>

                            <td class="value-column"
                                data-bind="css : {'oj-table-data-cell' : true, 'oj-table-footer-cell only-row' : true}">
                                <input type="text" class="component-name-input" maxlength="128"
                                       data-bind="ojComponent: {component: 'ojInputText', value: $data.name, rootAttributes: {class: 'component-name component-edit-element', id: 'field-value-1'},
                                                             displayOptions: {validatorHint: 'none' }, placeholder: 'Comma separated field Values'},
                                               attr: {id: 'field-value-1' + '-input' },
                                               value: $data.nameCheck, valueUpdate: 'afterkeydown'">
                            </td>

                            <td class="empty-column"
                                data-bind="css : {'oj-table-data-cell' : true, 'oj-table-footer-cell only-row' : true}">&nbsp;</td>
                            <td class="action-column"
                                data-bind="css : {'oj-table-data-cell' : true, 'oj-table-footer-cell only-row' : true}">
                                <button class="button-remove component-remove-button"
                                        data-bind="click: $parents[1].functions.removeComponent,
                                                   attr: {id: 'component-remove-' + $data.id() + '-button',
                                                          title: $parents[1].functions.getComponentTitle($data, $parent) },
                                                   ojComponent: {component: 'ojButton', display: 'icons', icons: { start: 'oj-fwk-icon oj-fwk-icon-cross'},
                                                                 disabled: $data === $parent.defaultComponent(), 
                                                                 rootAttributes: {class: 'component-remove', id: 'compnent-remove-' + $data.id()}, chroming: 'half' }"></button>
                            </td>                

                        </tr>                               

                    </tbody>

                </table>


            </div>
        </div>    


    </script>

    <script type="text/html" id="product-buttons">
        <button data-bind="click: $parent.functions.createTemplate,
                       ojComponent: {component: 'ojButton', label: 'Done' }"></button>
        <button data-bind="click: $parent.functions.removeTemplate,
                       ojComponent: {component: 'ojButton', label: 'Cancel' }"></button>
    </script>
</div>

</form>
</body>
</html>